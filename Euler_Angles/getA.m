function Ad = getA(x,y,z,P)

%     x=pi/6;y=pi/6;z=pi;
%     A = [0,0,0,((C(x)*S(y)*C(z)+S(x)*S(z))*v+(-S(x)*S(y)*C(z)+C(x)*S(z)*w)),(-S(y)*C(z)*u+(S(x)*-C(y)*C(z)-C(x)*S(z))*v+(C(x)*-C(y)*C(z)+S(x)*S(z))*w,(C(y)*-S(z)*u+(S(x)*S(y)*-S(z)-C(x)*C(z))*v+(C(x)*S(y)*-S(z)+S(x)*C(z))*w, C(y)*C(z),
    A = [0,0,0,0,0,0,C(y)*C(z),S(x)*S(y)*C(z)-C(x)*S(z),C(x)*S(y)*C(z)+S(x)*S(z),0,0,0;
         0,0,0,0,0,0,C(y)*S(z),S(x)*S(y)*S(z)+C(x)*C(z),C(x)*S(y)*S(z)-S(x)*C(z),0,0,0;
         0,0,0,0,0,0,S(y),-S(x)*C(y),-C(x)*C(y),0,0,0;
         0,0,0,0,0,0,0,0,0,1,0,0;
         0,0,0,0,0,0,0,0,0,0,1,0;
         0,0,0,0,0,0,0,0,0,0,0,1;
         0,0,0,0,-P.g*C(y),0,0,0,0,0,0,0;
         0,0,0,P.g*C(y)*C(x),-P.g*S(y)*S(x),0,0,0,0,0,0,0;
         0,0,0,-P.g*C(y)*S(x),-P.g*S(y)*C(x),0,0,0,0,0,0,0;
         0,0,0,0,0,0,0,0,0,0,0,0;
         0,0,0,0,0,0,0,0,0,0,0,0;
         0,0,0,0,0,0,0,0,0,0,0,0];

%     A = [0,0,0,0,0,0,C(y)*C(z),S(x)*S(y)*C(z)-C(x)*S(z),C(x)*S(y)*C(z)+S(x)*S(z),0,0,0;
%          0,0,0,0,0,0,C(y)*S(z),S(x)*S(y)*S(z)+C(x)*C(z),C(x)*S(y)*S(z)-S(x)*C(z),0,0,0;
%          0,0,0,0,0,0,S(y),-S(x)*C(y),-C(x)*C(y),0,0,0;
%          0,0,0,0,0,0,0,0,0,1,S(x)*tan(y),C(x)*tan(y);
%          0,0,0,0,0,0,0,0,0,0,C(x),-S(x);
%          0,0,0,0,0,0,0,0,0,0,S(x)/C(y),C(x)/C(y);
%          0,0,0,0,-P.g*C(y),0,-P.mu/P.M,0,0,0,0,0;
%          0,0,0,P.g*C(y)*C(x),-P.g*S(y)*S(x),0,0,-P.mu/P.M,0,0,0,0;
%          0,0,0,-P.g*C(y)*S(x),-P.g*S(y)*C(x),0,0,0,-P.mu/P.M,0,0,0;
%          0,0,0,0,0,0,0,0,0,0,0,0;
%          0,0,0,0,0,0,0,0,0,0,0,0;
%          0,0,0,0,0,0,0,0,0,0,0,0];

%     A = [0,0,0,0,0,0,C(y)*C(z),S(x)*S(y)*C(z)-C(x)*S(z),C(x)*S(y)*C(z)+S(x)*S(z),0,0,0;
%          0,0,0,0,0,0,C(y)*S(z),S(x)*S(y)*S(z)+C(x)*C(z),C(x)*S(y)*S(z)-S(x)*C(z),0,0,0;
%          0,0,0,0,0,0,S(y),-S(x)*C(y),-C(x)*C(y),0,0,0;
%          0,0,0,0,0,0,0,0,0,1,0,0;
%          0,0,0,0,0,0,0,0,0,0,1,0;
%          0,0,0,0,0,0,0,0,0,0,0,1;
%          0,0,0,0,-P.g,0,-P.mu/P.M,0,0,0,0,0;
%          0,0,0,P.g,0,0,0,-P.mu/P.M,0,0,0,0;
%          0,0,0,0,0,0,0,0,-P.mu/P.M ,0,0,0;
%          0,0,0,0,0,0,0,0,0,0,0,0;
%          0,0,0,0,0,0,0,0,0,0,0,0;
%          0,0,0,0,0,0,0,0,0,0,0,0];

%     if A(6,12)==Inf,A(6,12)=1;end
    sys = ss(A,P.B,P.C,P.D);
    sys_d = c2d(sys,P.ts);
    [Ad,Bd,Cd,Dd] = ssdata(sys_d);
    
end